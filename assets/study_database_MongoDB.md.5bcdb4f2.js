import{_ as s,c as n,o as a,a as l}from"./app.467f35a9.js";const o="/assets/image-20220728131648291.6005376e.png",d=JSON.parse('{"title":"MongoDB","description":"","frontmatter":{},"headers":[{"level":2,"title":"原理","slug":"原理","link":"#原理","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"扩展","slug":"扩展","link":"#扩展","children":[]}],"relativePath":"study/database/MongoDB.md"}'),p={name:"study/database/MongoDB.md"},e=l('<h1 id="mongodb" tabindex="-1">MongoDB <a class="header-anchor" href="#mongodb" aria-hidden="true">#</a></h1><h2 id="原理" tabindex="-1">原理 <a class="header-anchor" href="#原理" aria-hidden="true">#</a></h2><h4 id="体系结构" tabindex="-1">体系结构 <a class="header-anchor" href="#体系结构" aria-hidden="true">#</a></h4><p><img src="'+o+`" alt="image-20220728131648291"></p><blockquote><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">MongoDB 的逻辑结构是一种层次结构。主要由：文档(document)、集合(collection)、数据库(database)这三部分组成的。逻辑结构是面向用户的，用户使</span></span>
<span class="line"><span style="color:#A6ACCD;">用 MongoDB 开发应用程序使用的就是逻辑结构。</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">. MongoDB 的文档（document），相当于关系数据库中的一行记录。</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">. 多个文档组成一个集合（collection），相当于关系数据库的表。</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">. 多个集合（collection），逻辑上组织在一起，就是数据库（database）。</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">. 一个 MongoDB 实例支持多个数据库（database）。</span></span>
<span class="line"></span></code></pre></div></blockquote><h4 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-hidden="true">#</a></h4><blockquote><p>String 字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。 Integer 整型数值。用于存储数值。根据你所采用的服务器，可分为 32位或 64 位。 Boolean 布尔值。用于存储布尔值（真/假）。 Double 双精度浮点值。用于存储浮点值。 Array 用于将数组或列表或多个值存储为一个键。 Timestamp 时间戳。记录文档修改或添加的具体时间。 Object 用于内嵌文档。 Null 用于创建空值。 Date 日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。 Object ID 对象 ID。用于创建文档的 ID。 BinaryData 二进制数据。用于存储二进制数据。 Code 代码类型。用于在文档中存储 JavaScript 代码。 Regular expression 正则表达式类型。用于存储正则表达式。</p></blockquote><h4 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-hidden="true">#</a></h4><blockquote><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#如果数据库存在则选择该数据库，如果数据库不存在则自动创建。</span></span>
<span class="line"><span style="color:#A6ACCD;">use 数据库名称</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#查看数据库	</span></span>
<span class="line"><span style="color:#A6ACCD;">show dbs</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#查看集合,需要先选择数据库之后，才能查看该数据库的集合</span></span>
<span class="line"><span style="color:#A6ACCD;">show collections</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#选择数据库后，使用集合来对文档进行操作</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#插入数据</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.insert(数据</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">json</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#修改文档</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.update(条件,修改后的数据)</span></span>
<span class="line"><span style="color:#A6ACCD;">	db.comment.update(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">_id</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">$set</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">thumbup</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#删除文档</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.remove(条件)</span></span>
<span class="line"><span style="color:#A6ACCD;">	db.集合名称.remove(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">thumbup</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)	#删除条件可以放到大括号中</span></span>
<span class="line"><span style="color:#A6ACCD;">	db.集合名称.remove(</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)	#全部删除</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#查询集合</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(数据</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">json</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">#返回符合条件的第一条数据</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.findOne(数据</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">json</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">#返回指定条数的记录</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find((数据</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">json</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">).limit(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">#模糊查询             </span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">/模糊查询字符串/</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#统计记录条件</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.count()</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#大于 小于 不等于</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> $gt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 大于: field &gt; value</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> $lt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 小于: field &lt; value</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> $gte</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 大于等于: field &gt;= value</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> $lte</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 小于等于: field &lt;= value</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> $ne</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 不等于: field != value</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#包含与不包含</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">$in</span><span style="color:#89DDFF;">:[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1013</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1014</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]}}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">$nin</span><span style="color:#89DDFF;">:[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1013</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1014</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]}}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#条件连接</span></span>
<span class="line"><span style="color:#A6ACCD;">#查询集合中field大于等于</span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;"> 并且小于</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">的文档：</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">$and</span><span style="color:#89DDFF;">:[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">$gte</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">,{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">$lt</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">}}]}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">#查询集合中field为</span><span style="color:#F78C6C;">1013</span><span style="color:#A6ACCD;">，或者小于</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">的文档记录</span></span>
<span class="line"><span style="color:#A6ACCD;">db.集合名称.find(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">$or</span><span style="color:#89DDFF;">:[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1013</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">,{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">field</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">$lt</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">2000</span><span style="color:#89DDFF;">}}]}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">#列值增长</span></span>
<span class="line"><span style="color:#A6ACCD;">#对某列值在原有值的基础上进行增加或减少，可以使用$inc运算符</span></span>
<span class="line"><span style="color:#A6ACCD;">db.comment.update(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">_id</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">$inc</span><span style="color:#89DDFF;">:{</span><span style="color:#A6ACCD;">field</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}}</span><span style="color:#A6ACCD;">)	</span></span>
<span class="line"></span></code></pre></div></blockquote><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><blockquote><p><code>docker安装</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">docker run -id --name mongo -p </span><span style="color:#F78C6C;">27017</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">27017</span><span style="color:#A6ACCD;"> mongo	</span></span>
<span class="line"><span style="color:#A6ACCD;">mongo </span><span style="color:#F78C6C;">192.168</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">200.128</span><span style="color:#A6ACCD;">	#登录</span></span>
<span class="line"></span></code></pre></div></blockquote><h2 id="扩展" tabindex="-1">扩展 <a class="header-anchor" href="#扩展" aria-hidden="true">#</a></h2><h4 id="robomongo" tabindex="-1">robomongo <a class="header-anchor" href="#robomongo" aria-hidden="true">#</a></h4><blockquote><p>开源可视化软件</p></blockquote>`,14),t=[e];function c(r,D,C,y,A,F){return a(),n("div",null,t)}const u=s(p,[["render",c]]);export{d as __pageData,u as default};
